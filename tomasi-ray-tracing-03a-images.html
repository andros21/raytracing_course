<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="author" content="Maurizio Tomasi maurizio.tomasi@unimi.it">
  <title>Lezione 3</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="https://unpkg.com/reveal.js@^4//dist/reset.css">
  <link rel="stylesheet" href="https://unpkg.com/reveal.js@^4//dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="https://unpkg.com/reveal.js@^4//dist/theme/white.css" id="theme">
  <link rel="stylesheet" href="./css/custom.css"/>
  <link rel="stylesheet" href="./css/asciinema-player.css"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
   var mathElements = document.getElementsByClassName("math");
   var macros = [];
   for (var i = 0; i < mathElements.length; i++) {
    var texText = mathElements[i].firstChild;
    if (mathElements[i].tagName == "SPAN") {
     katex.render(texText.data, mathElements[i], {
      displayMode: mathElements[i].classList.contains('display'),
      throwOnError: false,
      macros: macros,
      fleqn: false
     });
  }}});
  </script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" />
</head>
<body>
  <div class="reveal">
    <div class="slides">

<section id="title-slide">
  <h1 class="title">Lezione 3</h1>
  <p class="subtitle">Calcolo numerico per la generazione di immagini fotorealistiche</p>
  <p class="author">Maurizio Tomasi <a href="mailto:maurizio.tomasi@unimi.it" class="email">maurizio.tomasi@unimi.it</a></p>
</section>

<section id="codifica-binaria-e-testuale" class="slide level1">
<h1>Codifica binaria e testuale</h1>
</section>
<section id="codifica-binaria" class="slide level1">
<h1>Codifica binaria</h1>
<ul>
<li><p>I file binari sono il tipo più semplice: consistono di una sequenza di byte (ossia, 8 bit scritti in sequenza).</p></li>
<li><p>Ogni byte può contenere un valore intero nell’intervallo 0–255</p></li>
<li><p>Per stampare il contenuto di un file binario potete usare il comando <code>xxd</code> (sotto Ubuntu, installatelo con <code>sudo apt install xxd</code>):</p>
<pre class="text"><code>$ xxd file.bin</code></pre>
<p>(Su altri sistemi operativi potreste avere <code>hexdump</code> anziché <code>xxd</code>).</p></li>
<li><p>Salvare dati in un file binario vuol dire scrivere una sequenza di numeri binari sul disco fisso, memorizzati come byte.</p></li>
</ul>
</section>
<section id="da-binario-a-decimale" class="slide level1">
<h1>Da binario a decimale</h1>
<ul>
<li><p>Per ragionare sui valori dei byte si usa la numerazione binaria, che ovviamente usa come base il numero 2:</p>
<pre><code>0  → 0
1  → 1
2  → 10
3  → 11
4  → 100
…</code></pre></li>
<li><p>Per un numero <code>dcba</code> espresso in una base <span class="math inline">B</span>, il suo valore è</p>
<p><span class="math display">
\text{value} = a \times B^0 + b \times B^1 + c \times B^2 + d \times B^3.
</span></p>
<p>Quindi il valore binario <code>100</code> corrisponde a <span class="math inline">0 \times 2^0 + 0 \times 2^1 + 1\times 2^2 = 4.</span></p></li>
</ul>
</section>
<section id="notazione-esadecimale" class="slide level1">
<h1>Notazione esadecimale</h1>
<ul>
<li><p>La notazione binaria è però scomoda, perché i numeri richiedono rapidamente molte cifre; inoltre i computer lavorano a multipli di 8 bit (i byte).</p></li>
<li><p>In alternativa alla notazione binaria si usa molto la notazione esadecimale (16), che usa le cifre</p>
<pre><code>0 1 2 3 4 5 6 7 8 9 A B C D E F</code></pre></li>
<li><p>La notazione esadecimale richiede 4 bit per cifra, perché <span class="math inline">2^4 = 16</span>. Siccome un byte è composto da 8 bit, il valore di un byte è sempre codificabile usando solo due cifre esadecimali (<code>0xFF = 255</code>).</p></li>
<li><p>In C/C++/D/Nim/Rust/Julia/C#/Kotlin, i numeri esadecimali si scrivono con <code>0x</code>, ad es. <code>0x1F67 = 8039</code> (in alcuni linguaggi <code>0b</code> introduce un numero binario).</p></li>
</ul>
</section>
<section class="slide level1">

<p><asciinema-player src="./cast/binary-files-73x19.cast" cols="73" rows="19" font-size="medium"></asciinema-player></p>
</section>
<section id="ordine-dei-bit-in-un-byte" class="slide level1">
<h1>Ordine dei bit in un byte</h1>
<ul>
<li><p>C’è sempre un’ambiguità di fondo nel raggruppamento dei bit in byte, e sta nel loro ordine.</p></li>
<li><p>Se un byte è formato dalla sequenza di bit <code>0011 0101</code>, esistono due modi per interpretarlo:</p>
<p><span class="math display">
\begin{aligned}
2^2 + 2^3 + 2^5 + 2^7 &amp;= 172,\\
2^5 + 2^4 + 2^2 + 2^0 &amp;= 53.
\end{aligned}
</span></p></li>
</ul>
</section>
<section id="endianness-dei-bit" class="slide level1">
<h1>«Endianness» dei bit</h1>
<ul>
<li><p>L’ordine dei bit in un byte è detto in gergo <em>bit-endianness</em>, termine tratto dai <em>Viaggi di Gulliver</em> (1726), di J. Swift:</p>
<ol type="1">
<li>La codifica <em>big-endian</em> parte dalla potenza <em>maggiore</em> («big»);</li>
<li>La codifica <em>little-endian</em> parte dalla potenza <em>minore</em> («little»).</li>
</ol></li>
<li><p>Le CPU Intel e AMD oggi usate nei personal computer usano tutte la codifica <em>little-endian</em>. La codifica <em>big-endian</em> è stata molto usata in passato, ma oggi è ancora impiegata in alcune CPU ARM.</p></li>
</ul>
</section>
<section id="usare-più-di-8-bit" class="slide level1">
<h1>Usare più di 8 bit</h1>
<ul>
<li><p>Un numero a 8 bit può assumere valori da 0 a 255</p></li>
<li><p>È un intervallo molto ridotto! Ma si possono combinare insieme più bytes</p></li>
<li><p>In C++ esistono i tipi <code>int16_t</code> (16 bit → 2 byte), <code>int32_t</code> (32 bit → 4 byte), <code>int64_t</code> (64 bit → 8 byte)</p></li>
<li><p>Ma se si combinano insieme più byte, c’è di nuovo il problema della <em>endianness</em>! Il numero esadecimale 1F3D si codifica con la coppia di byte <code>1F 3D</code> (<em>big endian</em>) oppure <code>3D 1F</code> (<em>little endian</em>)?</p></li>
<li><p>Oltre alla <em>bit endianness</em>, c’è il problema del <em>byte endianness</em>!</p></li>
</ul>
</section>
<section id="salvare-dati-in-binario" class="slide level1">
<h1>Salvare dati in binario</h1>
<ul>
<li><p>Oltre al problema della <em>endianness</em>, bisogna anche capire come il proprio linguaggio gestisce i file binari. Guardate questo esempio in C++:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;fstream&gt;</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span> <span class="op">{</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">int</span> x<span class="op">{</span><span class="dv">138</span><span class="op">};</span>  <span class="co">// 138 &lt; 256, so the value fits in *one* byte</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>ofstream<span class="op"> </span>outf<span class="op">{</span><span class="st">&quot;file.bin&quot;</span><span class="op">};</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  outf <span class="op">&lt;&lt;</span> x<span class="op">;</span> <span class="co">// Ouch! It writes *three* bytes: &#39;1&#39;, &#39;3&#39;, &#39;8&#39;</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div></li>
<li><p>Il valore <code>138</code> è stato salvato in <em>forma testuale</em>.</p></li>
<li><p>Se invece includete <code>&lt;cstdint&gt;</code> e cambiate il tipo di <code>x</code> da <code>int</code> a <code>uint8_t</code>, il valore viene salvato come binario!</p></li>
</ul>
</section>
<section id="codifica-testuale" class="slide level1">
<h1>Codifica testuale</h1>
</section>
<section id="codifica-testuale-1" class="slide level1">
<h1>Codifica testuale</h1>
<ul>
<li><p>I caratteri del computer vengono codificati tramite numeri; la più usata è la codifica ASCII:</p>
<ul>
<li>La lettera <code>A</code> è codificata dal numero 65, <code>B</code> da 66, <code>C</code> da 67, etc.;</li>
<li>La lettera <code>a</code> è codificata dal numero 97, <code>b</code> da 98, etc.;</li>
<li>La cifra <code>0</code> è codificata dal numero 48, <code>1</code> da 49, etc.</li>
</ul></li>
<li><p>Codificare una parola come <code>Casa</code> vuol dire rappresentare la parola con la sequenza di valori <code>67 97 115 97 = 0x43 0x61 0x73 0x61</code>.</p></li>
<li><p>Questi codici numerici fanno parte dello standard ASCII, che specifica 128 caratteri. (<a href="https://garbagecollected.org/2017/01/31/four-column-ascii/">Qui c’è la tabella completa</a>, spiegata bene).</p></li>
</ul>
</section>
<section id="codifica-di-testi" class="slide level1">
<h1>Codifica di testi</h1>
<ul>
<li><p>Lo standard ASCII è semplicissimo, eppure sufficiente per codificare testi:</p>
<pre class="text"><code>Beauty - be not caused - It Is -
Chase it, and it ceases -
Chase it not, and it abides -

Overtake the Creases

In the Meadow - when the Wind
Runs his fingers thro&#39; it -
Deity will see to it
That You never do it -

(Emily Dickinson, 1863)</code></pre></li>
<li><p>Ma come si codifica la fine della riga in ogni verso della poesia?</p></li>
<li><p>In 128 valori è possibile codificare <em>tutti</em> i caratteri?</p></li>
</ul>
</section>
<section id="ritorno-a-capo" class="slide level1">
<h1>Ritorno a capo</h1>
<ul>
<li><p>Il modo per indicare un ritorno a capo dipende dal sistema operativo!</p></li>
<li><p>Nelle macchine da scrivere c’erano due operazioni da fare per iniziare una nuova riga (vedi <a href="https://www.youtube.com/watch?v=r97JHr13T98">questo video YouTube</a>):</p>
<ol type="1">
<li>Spostarsi verso il bordo sinistro/destro del foglio (<em>carriage return</em>);</li>
<li>Muoversi alla riga successiva (<em>line feed</em>).</li>
</ol></li>
<li><p>Anche i computer hanno adottato questi due comandi, che corrispondono a due valori ASCII: <code>13</code> (<em>carriage return</em>, indicato anche come <code>\r</code>) e <code>10</code> (<em>line feed</em>, indicato con <code>\n</code>).</p></li>
</ul>
</section>
<section id="tipi-di-ritorno-a-capo" class="slide level1">
<h1>Tipi di ritorno a capo</h1>
<ul>
<li><p>Il tipo di ritorno a capo dipende dal sistema operativo utilizzato:</p>
<table>
<thead>
<tr class="header">
<th>Sistema operativo</th>
<th>Codifica</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Windows, DOS</td>
<td><code>13 10</code> (<code>\r\n</code>)</td>
</tr>
<tr class="even">
<td>RISC OS</td>
<td><code>10 13</code> (<code>\n\r</code>)</td>
</tr>
<tr class="odd">
<td>C64, macOS classic</td>
<td><code>13</code> (<code>\r</code>)</td>
</tr>
<tr class="even">
<td>Linux, Mac OS X</td>
<td><code>10</code> (<code>\n</code>)</td>
</tr>
</tbody>
</table></li>
<li><p>Si può convertire un file con i comandi <code>dos2unix</code> e <code>unix2dos</code>.</p></li>
<li><p>Git si aspetta il formato Linux (<code>\n</code>), ed emette un warning se i file aggiunti con <code>git add</code> ne usano un altro.</p></li>
</ul>
</section>
<section id="da-ascii-a-unicode" class="slide level1">
<h1>Da ASCII a Unicode</h1>
<ul>
<li><p>ASCII è stato usato per la prima volta su un terminale che usava 7 bit per byte: ecco perché l’ultimo carattere ha valore <code>127 = 0x7F</code> (<span class="math inline">127 = 2^7 - 1</span>).</p></li>
<li><p>Nei 128 caratteri sono inclusi anche caratteri «speciali», come il ritorno a capo (<code>10</code>), la tabulazione (<code>8</code>), etc., che «consumano» posizioni nella tabella.</p></li>
<li><p>ASCII è un sistema centrato sul sistema di scrittura usato negli USA, e non include caratteri accentati come «è», «é», «ü», «â», etc.</p></li>
<li><p>Oltre agli accenti sulle lettere latine, sono esistenti nel mondo molti altri alfabeti e simboli (greco, cirillico, cinese, i simboli matematici, etc.).</p></li>
<li><p>Lo standard Unicode ha esteso ASCII per includere <em>tutte</em> i possibili simboli testuali (contiene anche i geroglifici egizi e il sumerico!).</p></li>
</ul>
</section>
<section id="lo-standard-unicode" class="slide level1">
<h1>Lo standard Unicode</h1>
<ul>
<li><p>Standard internazionale nato nel 1991, che copre praticamente tutti i sistemi di scrittura oggi esistenti al mondo.</p></li>
<li><p>Oggi è supportato quasi universalmente.</p></li>
<li><p>Viene aggiornato periodicamente, circa una volta all’anno.</p></li>
</ul>
<center>
<img data-src="./media/unicode-example.png" />
</center>
</section>
<section id="versioni-unicode" class="slide level1">
<h1>Versioni Unicode</h1>
<table>
<thead>
<tr class="header">
<th>Versione</th>
<th>Data</th>
<th>Scritture</th>
<th>Caratteri</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1.0</td>
<td>Ottobre 1991</td>
<td>24</td>
<td>7,129</td>
</tr>
<tr class="even">
<td>…</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>11.0</td>
<td>Giugno 2018</td>
<td>146</td>
<td>137,374</td>
</tr>
<tr class="even">
<td>12.0</td>
<td>Marzo 2019</td>
<td>150</td>
<td>137,928</td>
</tr>
<tr class="odd">
<td>13.0</td>
<td>Marzo 2020</td>
<td>154</td>
<td>143,859</td>
</tr>
</tbody>
</table>
</section>
<section id="esempi-di-caratteri-unicode" class="slide level1">
<h1>Esempi di caratteri Unicode</h1>
<ul>
<li>Lettera A maiuscola: <code>A</code> (65, uguale all’ASCII!);</li>
<li>Lettera A minuscola con accento acuto: <code>à</code> (224);</li>
<li>Lettera E maiuscola con accento grave: <code>É</code> (201);</li>
<li>Puntini di sospensione: <code>…</code> (8230);</li>
<li>Bemolle: <code>♭</code> (9837);</li>
<li>Faccina che ride: <code>😀</code> (128.512).</li>
</ul>
</section>
<section id="codifica-unicode" class="slide level1">
<h1>Codifica Unicode</h1>
<ul>
<li><p>Ogni carattere Unicode è associato a un valore numerico, chiamato <em>code point</em>.</p></li>
<li><p>Si possono <a href="https://en.wikipedia.org/wiki/Combining_character">combinare insieme caratteri</a>: unendo <code>a</code> e <code>^</code> per formare <code>â</code>.</p></li>
<li><p>Le lettere accentate più comuni hanno però una <a href="https://en.wikipedia.org/wiki/Precomposed_character">codifica dedicata</a>. Queste lettere sono quindi codificabili in <strong>più modi</strong> secondo lo standard Unicode. (Questo rende complicato confrontare due stringhe!)</p></li>
<li><p>Un <em>grafema</em> è il risultato di una combinazione di uno o più code point. Quindi la parola <code>così</code> è composta da quattro grafemi: <code>c</code>, <code>o</code>, <code>s</code> ed <code>ì</code> (che può essere il <em>code point</em> 236, oppure la combinazione dei code point <code>i</code> e `).</p></li>
<li><p>La combinazione di caratteri diversi è molto importante in certe scritture come il cinese.</p></li>
</ul>
</section>
<section id="codificare-i-code-point" class="slide level1">
<h1>Codificare i <em>code point</em></h1>
<ul>
<li><p>Lo standard Unicode possiede molti <em>code point</em>, e a ogni versione se ne aggiungono di nuovi.</p></li>
<li><p>Questo pone un problema nella codifica dei <em>code point</em> su file: ASCII usava un byte per carattere perché il set era limitato. Ma per Unicode quanti byte per <em>code point</em> usare? 1? 2? 100?</p>
<ul>
<li>Se si scegliesse un valore basso, si limiterebbe l’estendibilità di Unicode.</li>
<li>Se si scegliesse un valore molto alto, i file di testo aumenterebbero di dimensione inutilmente: la poesia di E. Dickinson richiede 232 byte in codifica ASCII (un byte per carattere). Usare 4 byte per carattere quadruplicherebbe lo spazio.</li>
</ul></li>
</ul>
</section>
<section id="codifiche-oggi-usate" class="slide level1">
<h1>Codifiche oggi usate</h1>
<ul>
<li><p>Storicamente sono state proposte varie codifiche per Unicode.</p></li>
<li><p>Le più usate oggi sono le codifiche UTF (Unicode Transformation Format), che esistono in tre versioni:</p>
<ul>
<li>UTF8 (usata nei sistemi Linux e Mac OS X);</li>
<li>UTF16 (usata in Windows);</li>
<li>UTF32 (molto comoda dal punto di vista del software).</li>
</ul></li>
</ul>
</section>
<section id="utf-8" class="slide level1">
<h1>UTF-8</h1>
<ul>
<li><p>È oggi la codifica più usata in assoluto (tranne che sotto Windows 😢).</p></li>
<li><p>Il numero di byte usati per un <em>code point</em> è variabile da 1 a 4.</p></li>
<li><p>È compatibile con la codifica ASCII: un file ASCII è automaticamente anche un file UTF-8 valido, perché sfrutta il fatto che la codifica ASCII usa solo 7 degli 8 bit in un byte, e che i primi 127 <em>code point</em> Unicode sono uguali ai valori ASCII.</p></li>
</ul>
</section>
<section id="codifica-utf-8" class="slide level1">
<h1>Codifica UTF-8</h1>
<table>
<thead>
<tr class="header">
<th>Code point</th>
<th>Byte 1</th>
<th>Byte 2</th>
<th>Byte 3</th>
<th>Byte 4</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>0x0000</code>–<code>0x007F</code></td>
<td><code>0xxxxxxx</code></td>
<td>—</td>
<td>—</td>
<td>—</td>
</tr>
<tr class="even">
<td><code>0x0080</code>–<code>0x07FF</code></td>
<td><code>110xxxxx</code></td>
<td><code>10xxxxxx</code></td>
<td>—</td>
<td>—</td>
</tr>
<tr class="odd">
<td><code>0x0800</code>–<code>0xFFFF</code></td>
<td><code>1110xxxx</code></td>
<td><code>10xxxxxx</code></td>
<td><code>10xxxxxx</code></td>
<td>—</td>
</tr>
<tr class="even">
<td><code>0x10000</code>–<code>0x10FFFF</code></td>
<td><code>11110xxx</code></td>
<td><code>10xxxxxx</code></td>
<td><code>10xxxxxx</code></td>
<td><code>10xxxxxx</code></td>
</tr>
</tbody>
</table>
</section>
<section id="codifica-utf-16" class="slide level1">
<h1>Codifica UTF-16</h1>
<ul>
<li><p>Funziona come la codifica UTF-8, ma si usano coppie di byte (<span class="math inline">8 + 8 = 16</span>).</p></li>
<li><p>Un <em>code point</em> può essere codificato da due oppure quattro byte.</p></li>
<li><p>C’è anche qui un problema di <em>endianness</em>: il valore <code>0x2A6C</code> si scrive come la coppia di byte <code>0x2A 0x6C</code> (<em>big endian</em>) oppure <code>0x6C 0x2A</code> (<em>little endian</em>)?</p></li>
<li><p>Nei file di testo codificati con UTF-16 si inserisce all’inizio del file il cosiddetto BOM (<em>byte-order marker</em>) che corrisponde al <em>code point</em> <code>0xFEFF</code>. Se i primi due byte di un file sono <code>0xFE 0xFF</code>, allora è chiaro che il file usa <em>big endian</em>, se sono <code>0xFF 0xFE</code> usa <em>little endian</em>. (Anche UTF-8 ha un BOM, <code>0xEF 0xBB 0xBF</code>, che però non è così utile).</p></li>
<li><p>UTF-16 è usato da Windows e nei linguaggi basati su Java (Kotlin, Scala, etc.).</p></li>
</ul>
</section>
<section id="codifica-utf-32" class="slide level1">
<h1>Codifica UTF-32</h1>
<ul>
<li><p>Ovviamente, usa 32 bit per <em>code point</em>.</p></li>
<li><p>In questo caso non c’è ambiguità: ogni code point usa esattamente quattro byte.</p></li>
<li><p>È ovviamente la codifica più inefficiente dal punto di vista dello spazio occupato: la poesia di Emily Dickinson occuperebbe 928 byte in UTF-32, e solo 232 byte in ASCII/UTF-8 (quattro volte tanto!)</p></li>
<li><p>È però la codifica più semplice: ogni code point occupa sempre lo spazio di un tipo <code>uint32_t</code> in C/C++.</p></li>
</ul>
</section>
<section id="file-binari-e-testuali" class="slide level1">
<h1>File binari e testuali</h1>
<ul>
<li><p>Quanto detto oggi spiega perché è spesso più vantaggioso usare <em>file binari</em> anziché testuali: è molto più facile per un programma leggerli e scriverli!</p></li>
<li><p>Quasi tutti i formati grafici oggi usati (PNG, JPEG, GIF, etc.) si basano su codifiche binarie.</p></li>
<li><p>I file testuali hanno però alcuni vantaggi significativi:</p>
<ul>
<li><p>Sono più facili da leggere e da scrivere per un essere umano;</p></li>
<li><p>Non hanno problemi di <em>endianness</em>.</p></li>
</ul></li>
<li><p>Questa settimana e la prossima lavoreremo su file binari; tra alcune settimane passeremo ai file testuali per leggere i file di input del nostro programma.</p></li>
</ul>
</section>
<section id="gestione-degli-errori" class="slide level1">
<h1>Gestione degli errori</h1>
</section>
<section id="errori" class="slide level1">
<h1>Errori</h1>
<ul>
<li>Nella scorsa esercitazione abbiamo implementato il tipo <code>HdrImage</code>.</li>
<li>Questa settimana implementeremo le funzioni per scrivere e leggere file PFM.</li>
<li>Legge e scrivere file è un’attività che è facilmente soggetta ad errori:
<ul>
<li>La directory in cui salvare il file non esiste, oppure è protetta da scrittura</li>
<li>Il file specificato dall’utente non esiste</li>
<li>Il file è danneggiato</li>
<li>Il file è in un formato valido ma che il nostro codice non è in grado di caricare (es., un file è codificato in <em>big endian</em>, ma noi abbiamo previsto solo <em>little endian</em>)</li>
</ul></li>
</ul>
</section>
<section id="tipi-di-errore" class="slide level1">
<h1>Tipi di errore</h1>
<ul>
<li><p>Gli errori possono essere suddivisi in due classi:</p>
<ul>
<li>Errori di pertinenza del programmatore</li>
<li>Errori di pertinenza dell’utente</li>
</ul></li>
<li><p>A seconda del tipo di errore in cui vi imbattete, la sua gestione è diversa.</p></li>
</ul>
</section>
<section id="errori-del-programmatore" class="slide level1">
<h1>Errori del programmatore</h1>
<ul>
<li>Si tratta di un errore logico del programma.</li>
<li>Un programma «perfetto» non dovrebbe mai avere errori logici.</li>
<li>Se si ha l’evidenza che è avvenuto un errore logico, sarebbe meglio segnalarlo <strong>nel modo più rumoroso possibile</strong>.</li>
</ul>
</section>
<section id="esempio" class="slide level1">
<h1>Esempio</h1>
<div class="sourceCode" id="cb6"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>my_list <span class="op">=</span> [<span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">8</span>, <span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">9</span>]</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="bu">sorted</span> <span class="op">=</span> my_sort_function(my_list)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="kw">not</span> (<span class="bu">len</span>(my_list) <span class="op">==</span> <span class="bu">len</span>(<span class="bu">sorted</span>)):</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;Error, mismatch in the length of the sorted list&quot;</span>)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="kw">not</span> (<span class="bu">sorted</span>[<span class="dv">0</span>] <span class="op">&lt;=</span> <span class="bu">sorted</span>[<span class="dv">1</span>]):</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;Error, the array is not sorted&quot;</span>)</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="co"># The program continues</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>...</span></code></pre></div>
</section>
<section id="esempio-migliorato" class="slide level1">
<h1>Esempio migliorato</h1>
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>my_list <span class="op">=</span> [<span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">8</span>, <span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">9</span>]</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="bu">sorted</span> <span class="op">=</span> my_sort_function(my_list)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co"># If any &quot;assert&quot;, the program will crash and will print details</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="co"># about what the code was doing. If PDB support is turned on,</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co"># a debugger will be fired automatically.</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="bu">len</span>(my_list) <span class="op">==</span> <span class="bu">len</span>(<span class="bu">sorted</span>)</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="bu">sorted</span>[<span class="dv">0</span>] <span class="op">&lt;=</span> <span class="bu">sorted</span>[<span class="dv">1</span>]</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="co"># The program continues</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>...</span></code></pre></div>
</section>
<section id="gestione-errori-del-programmatore" class="slide level1">
<h1>Gestione errori del programmatore</h1>
<ul>
<li>Tutti i linguaggi implementano funzioni che consentono di mandare in crash un programma (es., <code>assert</code> e <code>abort</code> in C/C++).</li>
<li>Queste istruzioni solitamente stampano a video una serie di dettagli sulla causa dell’errore, e sono pensate per essere usate insieme a un debugger.</li>
<li>Eseguire un debugger è sensato: se l’errore è logico, è il programmatore che deve mettere mano al codice, non l’utente!</li>
<li>Attenzione al fatto che alcune di queste funzioni potrebbero non essere compilate in modalità <em>release</em> (es., <a href="https://nim-lang.org/docs/assertions.html#assert.t,untyped,string"><code>assert</code></a> vs <a href="https://nim-lang.org/docs/assertions.html#doAssert.t%2Cuntyped%2Cstring"><code>doAssert</code></a> in Nim).</li>
</ul>
</section>
<section id="errori-dellutente" class="slide level1">
<h1>Errori dell’utente</h1>
<ul>
<li>Sono errori causati da un input o un contesto sbagliato, e non per colpa di un errore nel programma:
<ul>
<li>L’utente chiede di leggere un file che non esiste;</li>
<li>L’utente chiede di scrivere un file su un supporto che non ha più spazio libero;</li>
<li>L’utente specifica un input scorretto;</li>
<li>L’utente chiede di usare una periferica (stampante?) non connessa al computer oppure spenta.</li>
</ul></li>
<li>Vanno gestiti solitamente in modo molto diverso dagli errori del programmatore!</li>
</ul>
</section>
<section id="esempio-1" class="slide level1">
<h1>Esempio</h1>
<p><asciinema-player src="./cast/user-error-74x25.cast" cols="74" rows="25" font-size="medium"></asciinema-player></p>
</section>
<section id="gestire-errori-dellutente" class="slide level1">
<h1>Gestire errori dell’utente</h1>
<ul>
<li>Gli errori dell’utente sono <strong>inevitabili</strong>.</li>
<li>Se si ha evidenza che l’utente ha commesso un errore, ci sono diversi modi di reagire:
<ol type="1">
<li><p>Stampare un messaggio di errore, il più chiaro possibile;</p></li>
<li><p>Chiedere all’utente di inserire di nuovo il dato scorretto;</p></li>
<li><p>In certi contesti il codice può decidere autonomamente come correggere l’errore.</p>
<p>Ad esempio, se si chiede un valore numerico entro un certo intervallo <span class="math inline">[a, b]</span> e il valore fornito è <span class="math inline">x &gt; b</span>, si può porre <span class="math inline">x = b</span> e continuare.</p></li>
</ol></li>
</ul>
</section>
<section id="correzione-errori-12" class="slide level1">
<h1>Correzione errori (1/2)</h1>
<div class="sourceCode" id="cb8"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="bu">float</span>(<span class="bu">input</span>(<span class="st">&quot;Insert a number: &quot;</span>))</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> <span class="bu">float</span>(<span class="bu">input</span>(<span class="st">&quot;Insert another number: &quot;</span>))</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> y <span class="op">!=</span> <span class="fl">0.0</span>:</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&quot;The ratio </span><span class="sc">{</span>x<span class="sc">}</span><span class="ss"> / </span><span class="sc">{</span>y<span class="sc">}</span><span class="ss"> is </span><span class="sc">{</span>x <span class="op">/</span> y<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;Error, the second number cannot be zero!&quot;</span>)</span></code></pre></div>
</section>
<section id="correzione-errori-22" class="slide level1">
<h1>Correzione errori (2/2)</h1>
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="bu">float</span>(<span class="bu">input</span>(<span class="st">&quot;Insert a number: &quot;</span>))</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> <span class="va">True</span>:</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> <span class="bu">float</span>(<span class="bu">input</span>(<span class="st">&quot;Insert another number: &quot;</span>))</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> y <span class="op">==</span> <span class="fl">0.0</span>:</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;Error, the second number cannot be zero!&quot;</span>)</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">break</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;The ratio </span><span class="sc">{</span>x<span class="sc">}</span><span class="ss"> / </span><span class="sc">{</span>y<span class="sc">}</span><span class="ss"> is </span><span class="sc">{</span>x <span class="op">/</span> y<span class="sc">}</span><span class="ss">&quot;</span>)</span></code></pre></div>
</section>
<section id="programma-corretto" class="slide level1">
<h1>Programma corretto</h1>
<p><asciinema-player src="./cast/user-error-corrected-74x25.cast" cols="74" rows="25" font-size="medium"></asciinema-player></p>
</section>
<section id="messaggi-derrore" class="slide level1">
<h1>Messaggi d’errore</h1>
<ul>
<li><p>Gli studenti hanno spesso la tendenza a stampare messaggi di errore.</p></li>
<li><p>Esempio (sbagliato) preso da un tema d’esame TNDS:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="dt">double</span> Bisezione<span class="op">::</span>CercaZeri<span class="op">(</span><span class="dt">double</span> a<span class="op">,</span> <span class="dt">double</span> b<span class="op">)</span> <span class="op">{</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span><span class="op">(</span>f<span class="op">-&gt;</span>Eval<span class="op">(</span>a<span class="op">)</span> <span class="op">*</span> f<span class="op">-&gt;</span>Eval<span class="op">(</span>b<span class="op">)</span> <span class="op">&gt;=</span> <span class="dv">0</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>        cout <span class="op">&lt;&lt;</span> <span class="st">&quot;Errore, teorema degli zeri non soddisfatto</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">;</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Etc.</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>Non c’è un <code>return</code> in corrispondenza dell’<code>if</code>, e l’esercizio chiedeva di calcolare lo zero di una funzione in un intervallo in cui lo zero <strong>doveva esserci</strong>. Se il teorema degli zeri non è soddisfatto, vuol dire che c’è un errore in <code>a</code> oppure <code>b</code>.</p></li>
</ul>
</section>
<section id="visibilità-dei-messaggi-di-errore" class="slide level1">
<h1>Visibilità dei messaggi di errore</h1>
<ul>
<li><p>Se una funzione stampa un messaggio quando capita un errore, è molto probabile che quel messaggio si perda all’interno dell’output:</p>
<pre class="text"><code>$ python3 my-beautiful-program.py
Initializing the program...
Now I am reading data from the device
The device has sent 163421 samples
Computing statistics on the samples
Error, some samples are negative
Sorting the samples
Running a Monte Carlo simulations, please wait...
Done, time elapsed: 164.96 seconds
Producing the plots...
Done, the results are saved in &quot;output.pdf&quot;
$</code></pre></li>
<li><p>Meglio rendere l’errore più visibile, ad esempio con i colori, oppure (meglio!) fermare del tutto l’esecuzione del programma appena l’errore si verifica.</p></li>
</ul>
</section>
<section id="errori-dellutente-nelle-funzioni" class="slide level1">
<h1>Errori dell’utente nelle funzioni</h1>
<ul>
<li>È solitamente molto semplice come gestire gli errori dell’utente nel <code>main</code> di un programma.</li>
<li>È invece meno chiaro come gestire gli errori nell’input passato a una funzione o un metodo, come ad esempio <code>Bisezione::CercaZeri</code> (gli estremi erano un input dell’utente, o erano stati calcolati automaticamente dal programma?).</li>
<li>Nessuna funzione o metodo dovrebbe <strong>mai</strong> fare qualcosa di catastrofico (mandare in crash il programma) o <strong>visibile</strong> (stampare un messaggio d’errore a video).</li>
<li>La <strong>regola aurea</strong> è che la funzione restituisca un valore di ritorno che segnali l’errore, oppure che sollevi un’eccezione.</li>
</ul>
</section>
<section id="restituire-un-errore" class="slide level1">
<h1>Restituire un errore</h1>
<ul>
<li><p>Se un linguaggio permette di restituire valori multipli, potete usare questa sintassi (molto usata in <a href="https://blog.golang.org/error-handling-and-go">Go</a>):</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>(result, error_condition) <span class="op">=</span> my_function(...)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> error_condition:</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Handle the error: print a message, crash the program, etc.</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>    ...</span></code></pre></div></li>
<li><p>Potete impiegare le eccezioni, se il vostro linguaggio le supporta:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> my_function(...):</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> something_wrong:</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">Exception</span>(<span class="st">&quot;Error!&quot;</span>)</span></code></pre></div></li>
</ul>
</section>
<section id="parametri-derrore" class="slide level1">
<h1>Parametri d’errore</h1>
<p>In linguaggi come il C/C++, un approccio molto usato è quello di accettare un parametro addizionale che segnali l’errore:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="dt">double</span> my_function<span class="op">(...,</span> <span class="dt">bool</span> <span class="op">&amp;</span> error<span class="op">)</span> <span class="op">{</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>something_wrong<span class="op">)</span> <span class="op">{</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>        error <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="fl">0.0</span><span class="op">;</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ...</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    error <span class="op">=</span> <span class="kw">false</span><span class="op">;</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> result<span class="op">;</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>Al posto di un <code>bool</code> potete usare una <code>enum class</code> per registrare il tipo di errore, o addirittura una <code>struct</code> per racchiudere informazioni complesse.</p>
</section>
<section id="tipi-nullable" class="slide level1">
<h1>Tipi <em>nullable</em></h1>
<p>Linguaggi come C# e Kotlin definiscono il tipo <em>nullable</em>, che può essere usato con qualsiasi tipo, e ne indica l’<em>assenza</em>:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode csharp"><code class="sourceCode cs"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co">// C# example</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="co">// Note the &quot;?&quot; after &quot;double&quot;: this is the same syntax as in Kotlin</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="dt">double</span><span class="op">?</span> result <span class="op">=</span> <span class="fu">my_function</span><span class="op">(...);</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="kw">if</span> <span class="op">(!</span> result<span class="op">.</span><span class="fu">HasValue</span><span class="op">)</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Something wrong happened, my_function didn&#39;t compute the result</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
</section>
    </div>
  </div>

  <script src="https://unpkg.com/reveal.js@^4//dist/reveal.js"></script>

  <!-- reveal.js plugins -->
  <script src="https://unpkg.com/reveal.js@^4//plugin/notes/notes.js"></script>
  <script src="https://unpkg.com/reveal.js@^4//plugin/search/search.js"></script>
  <script src="https://unpkg.com/reveal.js@^4//plugin/zoom/zoom.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
        // Display controls in the bottom right corner
        controls: true,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: true,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'bottom-right',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: true,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: false,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: true,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'default',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: true,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'slide',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'fade',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

       // Parallax background image
       parallaxBackgroundImage: './media/background.png', // e.g. "'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'"

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1440,

        height: 810,

        // reveal.js plugins
        plugins: [
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script src="js/asciinema-player.js"></script>
    <script src="https://cdn.plot.ly/plotly-1.58.4.min.js"></script>
    <script type="text/javascript" src="./js/quantization.js"></script>
    </body>
</html>
